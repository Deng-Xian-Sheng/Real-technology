# 你扫码一瞬间发生了什么

谢诗涵 王梦然

从扫码购物到“码”上创业，小小的二维码已在众多领域得到广泛应用。清华大学中国经济社会数据研究中心与腾讯联合发布的《2020码上经济战疫报告》显示，2020年第一季度，中国“码上经济”交易额同比增加25.86%，1月23日至5月6日，政企个人总用码量达1400亿次，人均节约耗时29.2小时。

现实与虚拟连接，线上与线下融合，人们越来越离不开这些“小方块”，然而轻松一扫的背后其实隐藏着“大科技”。

### 超越一维码，小小“方块”脱颖而出

20世纪60年代至70年代，条形码联合发明人诺曼·伍德兰德发明了一维码（条形码），变革了全球商业活动，为消费者的超市购物节省了大量时间。然而在几十年的发展中，由宽度不等的多个黑条和空白组成的一维码出现数据容量小、损坏后无法读取等多种问题。

为了弥补这些缺陷，1994年，日本电装公司正式宣布公开首个二维码（Quick Response Code，QR Code）。“在二维码图案中，白色的方块代表0，黑色的方块代表1。二维码技术将一个字符串转换成二进制编码，然后加上定位标志信息、定时标志信息、校正标志信息以及内容信息等主要信息，最后经过混乱技术得到最终的编码。”南京邮电大学计算機学院教授徐小龙在接受周刊记者采访时说。

以矩阵形式承载信息的二维码为何能超越它的“前辈”一维码？对此，徐小龙表示，首先，二维码的信息容量更大。“一维码只能由数字和字母组成，数据容量小，而二维码能存储汉字、数字图片、指纹和声音等多模态信息；一维码只能在一个方向（一般是水平方向）上表达信息，而二维码在水平和垂直方向都可以存储信息。”此外，二维码译码更准确。二维码的译码误码率为千万分之一，这比普通条形码百分之二的译码误码率要低很多。为了防止信息被盗取，二维码中还可以引入加密措施。

根据QR码国际通用标准，目前普通二维码有40个版本，版本越大，尺寸越大。最小的版本1是一个21×21的正方形，版本号每加1，正方形的边长就多4格，最大的版本40是一个177×177的正方形。那么，不同密度的二维码所包含的信息有区别吗？“不同密度的二维码所包含的信息，其编码的字符、容错率均不同。密度越低，编码的字符个数越少、容错率越低。”徐小龙解释，二维码容错率即二维码图标被遮挡多少后，仍可以被扫描出来的能力。目前，典型的二维码的容错率分为7%、15%、25%、30%四个等级，容错率越高，越容易被快速扫描。“但是，容错率越高，二维码里面的黑白格子也就越多。因此，对于目前主流手机，在绝大多数扫描场景下，仍普遍应用7%容错率的二维码就能满足需求。”

### 二维码上为何有三个小方块

一般来说，二维码是一个字符串形式的网页URL，而当我们拿起手机扫描二维码，就是识别出这个网页URL并点击访问的过程。徐小龙进一步说明，当手机等终端的软件扫描二维码，会给云端服务器传送数据，即发送一条信息给服务器；服务器在收到数据后，就会反馈对应的信息在手机等终端上，说明该二维码链接被扫描了，并且用户可以进行对应的操作；这里需要特别当心，如果是恶意二维码，对应着恶意的URL链接，可能导致下载病毒等恶意代码使得手机被侵害。

细心的读者可能会发现，每一枚二维码上都会有三个小方块，这对于扫码来说有何作用？实际上，这三个方块是二维码位置信息，用于二维码的定位，可以帮助机器正确地解读和识别。换句话说，有了这三个小方块，就可以完整定位一个正方形，从而确定数据范围。不管是正着扫、倾斜扫甚至是镜像翻转，手机都能正常识别。

在实际生活中，为什么有的二维码被污损了也可以被正常识别？奥秘正是二维码中“容错机制”的存在。即使没有辨识到全部的条码，容错机制也可以帮助扫码正确还原条码上的信息，确保残损条码的可靠性。东南大学网络空间安全学院副教授宋宇波表示：“为了提高扫描成功率，二维码中不仅会引入纠错码，还会加入冗余信息，即信息数据在不同位置重复放置。因此，即便部分缺失有误，也不妨碍对二维码的‘整体识别，它可进行一定范围的信息推演。”

有意思的是，人们经常在扫描二维码，那么它是否有一天会被用完？答案是：理论上二维码的数量是有限的，但现实中根本用不完。以25×25的二维码为例，除去定位用的方块和冗余纠错的方块等，还剩下478个方块。按照二进制，每个方块只有黑或白两种选择，所以478个小方块理论上一共可以组合2^478个二维码。以目前40个尺寸的二维码能组合的条码数来看，根据专家推算，全球七十多亿人每秒换一个二维码，用从宇宙大爆炸到今天的138亿年的时间，也仅仅能消耗一小部分。宋宇波告诉记者：“二维码包含200多个字节的信息量，短时期内能够满足市场所需。”

### “码上经济”激发价值裂变

外出购物没带钱包，扫码支付即可以轻松脱“困”；给孩子买的牛奶不知真伪，扫码溯源，“码”上安全；疫情期间，手机屏幕上一枚绿色的“健康码”成为全国各地人正常出入公共场所的“身份证”。中关村工信二维码技术研究院院长张超表示，中国已成为二维码应用最广泛的国家，中国二维码应用占全球九成以上。

通过二维码支付构成了以小程序、公众号、二维码支付等工具为核心的“码上经济”开放生态，实现价值链向价值网的升级，激发传统商业价值裂变。以微信支付为例，2019年微信生态带来的“码上经济”规模达到8.58万亿元，微信带动“码上经济”就业机会2601万个。中国科学院科技战略咨询研究院研究员吴静表示，微信开放生态推动二维码在社会经济各领域的应用，实现了基于二维码的社交网络到商业网络的价值裂变。

不过，“码上经济”繁荣的外表之下仍存在一些安全隐患。“比如有黑客会将一个更小的黑白方块嵌入二维码中间，使用者很难识别这种陷阱，一旦按流程输入信息，就可能受到网络安全攻击。”宋宇波称，提高信息含量、提升安全性能是当前二维码发展的两个重要方向。技术界将通过算法优化、软件升级等办法为二维码“加密”，提升安全性能。